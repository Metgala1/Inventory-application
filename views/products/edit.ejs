<%- include('../partials/header', { title }) %>
<link rel="stylesheet" href="/styles/edit.css">
<div class="page-header">
  <h1>Edit Product</h1>
  <a href="/products/<%= product.id %>" class="btn btn-secondary">‚Üê Back to Product</a>
</div>

<form action="/products/<%= product.id %>/edit" method="POST" class="product-form">
  <!-- Name -->
  <div class="form-group">
    <label for="name">Product Name</label>
    <input type="text" id="name" name="name" value="<%= product.name %>" required />
  </div>

  <!-- Model -->
  <div class="form-group">
    <label for="model">Model</label>
    <input type="text" id="model" name="model" value="<%= product.model || '' %>" />
  </div>

  <!-- Description -->
  <div class="form-group">
    <label for="description">Description</label>
    <textarea id="description" name="description" rows="4" required><%= product.description %></textarea>
  </div>

  <!-- Price -->
  <div class="form-group">
    <label for="price">Price ($)</label>
    <input type="number" step="0.01" id="price" name="price" value="<%= product.price %>" required />
  </div>

  <!-- Quantity -->
  <div class="form-group">
    <label for="quantity">Stock Quantity</label>
    <input type="number" id="quantity" name="quantity" value="<%= product.quantity %>" required />
  </div>

   <!-- Image URL -->
  <div class="form-group">
    <label for="image_url">Product Image URL</label>
    <input type="url" id="image_url" name="image_url" value="<%= product.image_url %>" placeholder="https://example.com/image.jpg" required />
  </div>

  <!-- Category -->
  <div class="form-group">
    <label for="category_id">Category</label>
    <select id="category_id" name="category_id" required>
      <% categories.forEach(category => { %>
        <option value="<%= category.id %>" <%= product.category_id === category.id ? "selected" : "" %>>
          <%= category.name %>
        </option>
      <% }) %>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">Save Changes</button>
</form>

<%- include('../partials/footer') %>
